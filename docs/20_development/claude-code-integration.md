# Claude Code 連携ガイド

## 🤖 概要

Claude Code での効率的な開発方法・依頼パターン・ベストプラクティスをまとめています。

> **基本設定:** [`CLAUDE.md`](../../CLAUDE.md) 参照

## 🛠 利用可能ツール

**Supabase MCP Server:** DB操作・スキーマ管理・ブランチ管理  
**GitHub CLI:** PR・Issue管理

**使用例:**
```
"Supabaseにユーザープロフィールテーブルを作成して、
必要なRLS設定とインデックスも含めてください"
```

## 📋 効果的な依頼方法

### 1. 具体的で構造化された依頼

#### ❌ 悪い例
```
"ユーザー機能作って"
```

#### ✅ 良い例
```
"ユーザープロフィール管理機能を実装してください。

要件:
- プロフィール表示・編集機能
- アバター画像アップロード
- バイオ・連絡先情報管理
- 変更履歴の記録

制約:
- 認証必須（Auth.js）
- Supabase RLS使用
- shadcn/ui コンポーネント使用
- TypeScript strict mode

実装範囲:
1. API Routes（CRUD）
2. フロントエンドフォーム
3. バリデーション（Zod）
4. ユニットテスト
5. E2Eテスト"
```

## 🎯 開発段階別の活用法

### 設計段階
- **データベース設計**: テーブル構造・リレーション・RLS設定の相談
- **API設計**: RESTエンドポイント・レスポンス形式の提案

### 実装段階  
- **機能実装**: フロントエンド・バックエンド・DB操作の一括実装
- **バグ修正**: エラー解析・修正・テスト追加

### 最適化段階
- **パフォーマンス改善**: クエリ最適化・キャッシング・UI改善
- **セキュリティ強化**: 認証・バリデーション・XSS対策のレビュー

## 🧪 テスト関連

**ユニットテスト:**
```
"[機能名]APIのユニットテストを作成してください。
正常系・異常系・境界値テストを含めて、Vitestで実装。"
```

**E2Eテスト:**
```
"[機能名]のE2Eテストシナリオを作成してください。
Playwrightでユーザーフローをテスト。"
```

## 📚 ドキュメント生成

**API仕様書:** OpenAPI形式での自動生成  
**運用手順書:** デプロイ・環境設定・トラブルシューティング

## 📋 基本テンプレート

### 新機能開発
```markdown
## 機能: [機能名]

### 要件
- [要件を箇条書き]

### 実装範囲
- [ ] データベース設計・マイグレーション
- [ ] API Routes実装
- [ ] フロントエンド実装
- [ ] テスト作成

### 技術制約
- 認証必須（Auth.js）
- Supabase RLS使用
- TypeScript strict mode
```

### バグ修正
```markdown
## バグ: [概要]

### 現象・再現手順
[詳細説明]

### エラーログ
```
[エラーメッセージ]
```

### 期待動作
[本来の動作]
```

## 🎯 ベストプラクティス

1. **具体的で構造化された依頼** - 要件・制約・実装範囲を明確に
2. **段階的実装** - 小さな単位で依頼し動作確認
3. **品質保証** - テスト・セキュリティレビュー必須
4. **適切な活用** - 理解なしに使用せず、人間による最終確認を実施